<app-stepper></app-stepper>

<!-- Preloader -->
<div class="mat-spinner-container" *ngIf="!surveyResults.getSurveyResponsesResponse">
  <div class="spinner-inner">
    <mat-spinner></mat-spinner>
  </div>
</div>

<div class="container" id="step-03">
  <div class="row">
    <div class="col-12" *ngIf="dataService.participationType !== 'Crew'">
      <h3 class="text-center">Important Information</h3>
      <p>
        The following information allows us to give our Riders the best possible
        event experience.
      </p>
    </div>
    <div class="col-12" *ngIf="dataService.participationType === 'Crew'">
      <h3 class="text-center">Important Information</h3>
      <p>
        The following information allows us to give our Crew the best possible
        event experience.
      </p>
    </div>
  </div>
  <div class="row" *ngIf="surveyResults.getSurveyResponsesResponse">
    <form class="form-container" [formGroup]="step03Form" *ngIf="step03Form">
      <div class="survey-res">
        <!-- Years attended -->
        <div class="form-group">
          <p>
            <strong>How many years have you participated in The Ride (including this
              one)?*</strong>
          </p>
          <mat-form-field>
            <mat-select class="mat-select" placeholder="Years Attended*" [(ngModel)]="attendanceRes"
              formControlName="yearsAttended">
              <p class="change-txt"><small>Please make a selection:</small></p>
              <mat-option *ngFor="let year of years" [value]="year.value">
                {{ year.viewValue }}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <div class="error-msg" *ngIf="yearError === true">
            Years attended is <strong>required</strong>
          </div>
        </div>

        <!-- Jersey sizes -->
        <div class="form-group" *ngIf="dataService.participationType !== 'Crew'">
          
          <p>
            <strong>Please confirm your jersey size* </strong>
            <a class="txt-blue sizing-link" target="_blank" href="assets/images/Jackroo_Sizing.PNG">(View
              sizing guide)</a>
          </p>
          <p>
            <i>Please select your sizes even if you don't currently qualify</i>
          </p>
          <mat-form-field>
            <mat-select formControlName="jerseySizes" class="mat-select" placeholder="Jersey Size"
              [(ngModel)]="jerseyRes">
              <p class="change-txt"><small>Please make a selection:</small></p>
              <mat-option *ngFor="let jersey of jerseySelect" [value]="jersey.value">
                {{ jersey.viewValue }}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <div class="error-msg error-top" *ngIf="jerseyError === true">
            This is <strong>required</strong>
          </div>
        </div>

        <!-- T-Shirt sizes -->
        <div class="form-group" *ngIf="dataService.participationType !== 'Crew'">
          <p>
            <strong>Please confirm your t-shirt size* </strong>
          </p>
          <p>
            <i>Please select your sizes even if you don't currently qualify</i>
          </p>
          <mat-form-field>
            <mat-select formControlName="shirtSizes" class="mat-select" placeholder="T-Shirt Size"
              [(ngModel)]="shirtRes">
              <p class="change-txt"><small>Please make a selection:</small></p>
              <mat-option *ngFor="let shirt of shirtSelect" [value]="shirt.value">
                {{ shirt.viewValue }}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <div class="error-msg error-top" *ngIf="shirtError === true">
            This is <strong>required</strong>
          </div>
        </div>

        <!-- Vest sizes -->
        <div class="form-group" *ngIf="dataService.participationType !== 'Crew'">
          <p>
            <strong>Please confirm your Hammer Vest size* </strong>
            <a class="txt-blue sizing-link" target="_blank" href="assets/images/Jackroo_Sizing.PNG">(View
              sizing guide)</a>
          </p>
          <p>
            <i>(for those riders committing to $1500 in fundraising and an Epic ride of 100 miles)</i>
          </p>
          <mat-form-field>
            <mat-select formControlName="vestSizes" class="mat-select" placeholder="Vest Size"
              [(ngModel)]="vestRes">
              <p class="change-txt"><small>Please make a selection:</small></p>
              <mat-option *ngFor="let vest of vestSelect" [value]="vest.value">
                {{ vest.viewValue }}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <div class="error-msg error-top" *ngIf="vestError === true">
            This is <strong>required</strong>
          </div>
        </div>
      </div>
    </form>
  </div>
  <div class="row" *ngIf="surveyResults.getSurveyResponsesResponse">
    <div class="col-12">
      <div class="btn-container">
        <button mat-raised-button color="accent" class="prev-btn" (click)="previousFlowStep()">
          Back
        </button>
        <button mat-raised-button color="primary" class="next-btn" (click)="validating()">
          Next
        </button>
      </div>
      <div class="save-col">
        <a (click)="saveSurveyRes()" class="save-later float-right text-uppercase">Save For Later</a>
      </div>
    </div>
  </div>
</div>